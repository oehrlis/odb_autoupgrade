# Release v0.3.1 - Enhanced Release Workflow

**Release Date:** 2026-01-13  
**Version:** 0.3.1  
**Status:** âœ… Released

## ğŸ¯ Overview

This release enhances the GitHub Actions release workflow to use detailed
version-specific release notes when available, improving the release
documentation and user experience for odb_autoupgrade installations and upgrades.

## ğŸš€ Major Changes

### Enhanced Release Workflow

The GitHub Actions release workflow now intelligently uses detailed release notes:

**Smart Release Notes Generation:**

- âœ… Checks for version-specific release notes in `doc/release_notes/v{VERSION}.md`
- âœ… Uses detailed markdown file if available (like this document!)
- âœ… Falls back to comprehensive generic notes with proper branding if not found
- âœ… Includes relevant documentation links for autoupgrade operations
- âœ… Provides clear installation and usage instructions

**Workflow Implementation:**

```yaml
- name: Generate release notes
  run: |
    VERSION="${{ steps.version.outputs.version }}"
    RELEASE_NOTES_FILE="doc/release_notes/v${VERSION}.md"
    
    # Check if detailed release notes exist
    if [ -f "$RELEASE_NOTES_FILE" ]; then
      echo "Using detailed release notes from $RELEASE_NOTES_FILE"
      cp "$RELEASE_NOTES_FILE" release_notes.md
    else
      # Generate generic notes with proper branding
      ...
    fi
```

**Benefits:**

- ğŸ“ Professional, comprehensive release notes
- ğŸ¯ Consistent release documentation
- ğŸ”— Better user guidance with autoupgrade-specific links
- ğŸš€ Automated process for maintainers

### Release Notes Added

Created comprehensive release note for v0.3.1:

- âœ… [v0.3.1](v0.3.1.md) - This release (Enhanced Release Workflow)
- âœ… Existing [v0.3.0](v0.3.0.md) - Development Workflow Enhancement

## ğŸ“‹ Technical Details

### Release Workflow Changes

**Before (Generic Notes):**

```bash
cat > release_notes.md <<EOF
# OraDBA Extension Template v${VERSION}
Extension template tarball for OraDBA.
...
EOF
```

**After (Smart Detection):**

```bash
if [ -f "doc/release_notes/v${VERSION}.md" ]; then
  cp "doc/release_notes/v${VERSION}.md" release_notes.md
else
  # Generate comprehensive generic notes with:
  # - Project name: odb_autoupgrade
  # - Description: Oracle Database AutoUpgrade automation scripts
  # - Installation instructions
  # - Documentation links
  # - Usage examples for autoupgrade operations
  # - What's Changed section
fi
```

### Generic Fallback Template

The improved fallback template includes:

**Project-Specific Content:**

- âœ… Correct project name: odb_autoupgrade
- âœ… Clear description: Oracle Database AutoUpgrade automation
- âœ… Installation commands
- âœ… Links to autoupgrade documentation
- âœ… Configuration and reference guides
- âœ… What's Changed reference to CHANGELOG

**Example Generated Notes:**

```markdown
# odb_autoupgrade v0.3.1

Oracle Database AutoUpgrade automation scripts.

## What's Changed
See CHANGELOG.md for details.

## Assets
- odb_autoupgrade-0.3.1.tar.gz
- odb_autoupgrade-0.3.1.tar.gz.sha256

## Installation
tar xzf odb_autoupgrade-0.3.1.tar.gz
cd odb_autoupgrade
make install

## Documentation
- Installation Guide
- Configuration
- Reference
- Development
```

## ğŸ”§ Usage Examples

### Creating a Release

**With Detailed Release Notes:**

```bash
# 1. Create release notes file
cat > doc/release_notes/v0.4.0.md <<EOF
# Release v0.4.0 - New Features
...
EOF

# 2. Update VERSION and CHANGELOG
echo "0.4.0" > VERSION
# Update CHANGELOG.md

# 3. Commit and tag
git add VERSION CHANGELOG.md doc/release_notes/v0.4.0.md
git commit -m "chore: Release v0.4.0"
git tag -a v0.4.0 -m "Release v0.4.0"
git push origin main --tags

# 4. GitHub Actions automatically uses your detailed release notes!
```

**Without Detailed Release Notes:**

```bash
# Simply tag the release
git tag -a v0.4.0 -m "Release v0.4.0"
git push origin v0.4.0

# Workflow generates comprehensive odb_autoupgrade-branded notes
```

### Using odb_autoupgrade

**Installation:**

```bash
# Download and extract
curl -LO https://github.com/oehrlis/odb_autoupgrade/releases/download/v0.3.1/odb_autoupgrade-0.3.1.tar.gz
tar xzf odb_autoupgrade-0.3.1.tar.gz
cd odb_autoupgrade

# Install
make install
```

**Running AutoUpgrade:**

```bash
# Basic upgrade
run_autoupgrade.sh --sid ORCL --target 19.25

# With custom config
run_autoupgrade.sh --sid ORCL --target 19.25 --config my_upgrade.cfg

# Update AutoUpgrade jar
update_autoupgrade.sh --target 19.25
```

## ğŸ”„ Migration Notes

### For Users

**No Breaking Changes:**

- Existing installations continue to work
- No configuration changes required
- All scripts and tools unchanged
- Only documentation and release process improved

### For Maintainers

**Recommended Updates:**

1. Create release notes for future versions
2. Review and customize generic fallback template
3. Test workflow in development environment
4. Keep release notes consistent with CHANGELOG

## ğŸ“¦ Installation

### Upgrade from 0.3.0

```bash
cd odb_autoupgrade
git pull origin main
make install
```

### Fresh Installation

```bash
# From GitHub release
curl -LO https://github.com/oehrlis/odb_autoupgrade/releases/download/v0.3.1/odb_autoupgrade-0.3.1.tar.gz
tar xzf odb_autoupgrade-0.3.1.tar.gz
cd odb_autoupgrade
make install

# From source
git clone https://github.com/oehrlis/odb_autoupgrade.git
cd odb_autoupgrade
make install
```

## ğŸ§ª Testing

### Pre-Release Testing

```bash
# Run linting
make lint
# âœ“ Shellcheck passed
# âœ“ Markdownlint passed

# Run tests
make test
# âœ“ All tests passed

# Full CI validation
make ci
# âœ“ CI checks passed
```

### Workflow Testing

**Manual Workflow Dispatch:**

```bash
# Via GitHub UI
1. Go to Actions â†’ Release
2. Click "Run workflow"
3. Enter version: 0.3.1
4. Workflow uses detailed release notes automatically
```

**Tag-Based Release:**

```bash
git tag -a v0.3.1 -m "Release v0.3.1"
git push origin v0.3.1
# Workflow triggers automatically
```

## ğŸ“š Documentation

### Release Notes Format

Each release note should include:

**Required Sections:**

- Overview
- Major Changes
- Technical Details
- Usage Examples
- Migration Notes
- Installation Instructions
- Testing Information

**Optional Sections:**

- Known Issues
- What's Next
- Contributors
- Best Practices

### Documentation Links

- **Main Documentation:** [doc/index.md](../index.md)
- **Installation Guide:** [doc/installation.md](../installation.md)
- **Configuration:** [doc/configuration.md](../configuration.md)
- **Reference:** [doc/reference.md](../reference.md)
- **Development:** [doc/development.md](../development.md)
- **Previous Release:** [v0.3.0](v0.3.0.md)

## ğŸ› Known Issues

None. All changes are backward compatible and thoroughly tested.

## ğŸ”® What's Next

### Version 0.4.0 (Planned)

- Enhanced AutoUpgrade jar management
- Additional automation features
- More comprehensive examples
- Performance improvements

### Future Enhancements

- Automated release note generation from commits
- Multi-database upgrade orchestration
- Enhanced logging and monitoring
- Additional RU/RUR configurations

## ğŸ’¡ Best Practices

### AutoUpgrade Operations

**Do:**

- âœ… Test upgrades in non-production first
- âœ… Keep AutoUpgrade jar updated
- âœ… Review logs after upgrades
- âœ… Backup databases before upgrade
- âœ… Follow Oracle's AutoUpgrade best practices

**Don't:**

- âŒ Skip pre-upgrade checks
- âŒ Upgrade production without testing
- âŒ Ignore warning messages
- âŒ Use outdated AutoUpgrade jars
- âŒ Skip post-upgrade validation

### Release Management

**Do:**

- âœ… Create detailed release notes for all releases
- âœ… Follow semantic versioning
- âœ… Test thoroughly before tagging
- âœ… Update VERSION and CHANGELOG
- âœ… Include migration guidance

**Don't:**

- âŒ Skip release notes for "minor" releases
- âŒ Forget to update documentation
- âŒ Tag without testing
- âŒ Break backward compatibility without notice
- âŒ Release without changelog entry

## ğŸ‘¥ Contributors

- Stefan Oehrli (@oehrlis) - Project maintainer

## ğŸ“ Full Changelog

See [CHANGELOG.md](../../CHANGELOG.md#031---2026-01-13) for complete details.

## ğŸ”— Resources

- **Repository:** <https://github.com/oehrlis/odb_autoupgrade>
- **Documentation:** [doc/index.md](../index.md)
- **Releases:** <https://github.com/oehrlis/odb_autoupgrade/releases>
- **Issues:** <https://github.com/oehrlis/odb_autoupgrade/issues>
- **Changelog:** [CHANGELOG.md](../../CHANGELOG.md)

## ğŸ“ Key Features

### odb_autoupgrade Tools

**Main Scripts:**

- `run_autoupgrade.sh` - Execute AutoUpgrade operations
- `update_autoupgrade.sh` - Update AutoUpgrade jar files
- `create_mos_keystore.sh` - Create keystore for MOS downloads
- `extension_tool.sh` - Extension management utilities

**Configuration Files:**

- `etc/download_patch.cfg` - Patch download configuration
- `etc/download_RU19.*.cfg` - Release Update configurations for 19c
- Pre-configured for RU 19.20 through 19.28

**Documentation:**

- Complete installation guide
- Configuration reference
- API documentation
- Development guidelines

### Use Cases

1. **Automated Database Upgrades**
   - Single database upgrades
   - Batch upgrade operations
   - Scheduled upgrade automation
   - Post-upgrade validation

2. **AutoUpgrade Jar Management**
   - Download latest versions
   - Version tracking
   - Automated updates
   - MOS integration

3. **Configuration Management**
   - Template configurations
   - Environment-specific settings
   - Credential management
   - Logging configuration

---

**Previous Release:** [v0.3.0](v0.3.0.md)  
**Next Release:** TBD
